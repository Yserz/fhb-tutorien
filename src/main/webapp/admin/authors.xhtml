<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:wlc="http://xmlns.jcp.org/jsf/composite/wlc">
  <h:body>    
    <ui:composition template="/WEB-INF/backend/xhtml/main.xhtml">
      <ui:define name="content">    
        <!-- Form -->
        <form jsf:binding="#{authorController.form}"></form>
        <script>
          //<![CDATA[
          var IDs = [];
          var dateTimeFields = $('input[class="date-time-field"]').each(function() {
            IDs.push(this.id);
          });

          for (var i = 0; i < IDs.length; i++) {
            var id = IDs[i];

            var picker = new Pikaday({
              field: document.getElementById(id),
              format: 'DD.MM.YYYY',
              onSelect: function() {
                console.log(this.getMoment().format('DD.MM.YYYY'));
              }
            });
          }
          //]]>
        </script>

        <!-- Overview -->
        <p>Autoren in Datenbank: #{authorController.authorCount}</p>
        <p>
          Aktuelle Seite: <h:outputText value="#{authorController.currentPage}" />
        </p>

        <!-- List -->
        <wlc:admin-item-table controller="#{authorController}" /> 
      </ui:define>
    </ui:composition>
  </h:body>
</html>