<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
  <h:head>
    <title>Admin Pages</title>
  </h:head>
  <h:body>
    <h:form acceptcharset="ISO-8859-1">
      <h:panelGrid columns="3">
        <f:facet name="header">Allgemein</f:facet>

        <h:outputLabel value="Name:"></h:outputLabel>
        <h:inputText 
          id="a_name"
          value="#{aktionEditController.aktion.name}"
          validatorMessage="Name zwischen 4 und 30 Zeichen.">
          <f:validateRequired />
          <f:validateLength minimum="4" maximum="30" />
        </h:inputText>
        <h:message for="a_name" style="color: red;" />

        <h:outputLabel value="Spendenziel:"></h:outputLabel>
        <h:panelGroup>
          <h:inputText
            id="a_spendenziel"
            value="#{aktionEditController.aktion.spendenZiel}"
            validatorMessage="Das Spendziel muss mind. 10 EUR sein.">
            <f:convertNumber 
              minFractionDigits="2"
              maxFractionDigits="2"
              />
            <f:validateRequired />
            <f:validateDoubleRange minimum="10.0" />
          </h:inputText> EUR          
        </h:panelGroup>
        <h:message for="a_spendenziel" style="color: red;" />

        <h:outputLabel value="Spendenbetrag:"></h:outputLabel>
        <h:panelGroup>
          <h:inputText 
            id="a_spendenbetrag"
            value="#{aktionEditController.aktion.spendenBetrag}"
            validatorMessage="Der Spendenbetrag muss mind. 1 EUR sein.">
            <f:convertNumber
              minFractionDigits="2"
              maxFractionDigits="2"
              />
            <f:validateRequired />
            <f:validateDoubleRange minimum="1.0" />
          </h:inputText> EUR
        </h:panelGroup>
        <h:message for="a_spendenbetrag" style="color: red;" />

      </h:panelGrid>

      <h:panelGrid columns="3">
        <f:facet name="header">Bankverbindung</f:facet>

        <h:outputLabel value="Name:"></h:outputLabel>
        <h:inputText
          id="b_name" 
          value="#{aktionEditController.aktion.konto.name}"
          >
          <f:validateRequired />
        </h:inputText>
        <h:message for="b_name" style="color: red;" />

        <h:outputLabel value="Konto-Nr.:"></h:outputLabel>
        <h:inputText
          id="b_konto" 
          value="#{aktionEditController.aktion.konto.kontoNr}"
          >
          <f:validateRequired />
        </h:inputText>
        <h:message for="b_konto" style="color: red;" />

        <h:outputLabel value="BLZ:"></h:outputLabel>
        <h:inputText
          id="b_blz" 
          value="#{aktionEditController.aktion.konto.blz}"
          >
          <f:validateRequired />
        </h:inputText>
        <h:message for="b_blz" style="color: red;" />

        <h:outputLabel value="Name der Bank"></h:outputLabel>
        <h:inputText
          id="b_name_bank" 
          value="#{aktionEditController.aktion.konto.nameDerBank}"
          >
          <f:validateRequired />
        </h:inputText>
        <h:message for="b_name_bank" style="color: red;" />

      </h:panelGrid>

      <h:commandButton 
        value="Speichern"
        action="#{aktionEditController.doSave}"
        />

      <h:commandButton 
        value="Abbrechen"
        immediate="true"
        action="#{aktionEditController.doCancel}"
        />      

    </h:form>
  </h:body>
</html>
