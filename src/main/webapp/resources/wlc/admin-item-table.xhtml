<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:composite="http://xmlns.jcp.org/jsf/composite"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf">

  <composite:interface>
    <composite:attribute name="controller" required="true" type="de.fhb.controller.BaseController" />
  </composite:interface>

  <composite:implementation>
    <h2 class="page-header">Bearbeiten</h2>

    <form jsf:binding="#{cc.attrs.controller.form}"></form>

    <h2 class="page-header">Übersicht</h2>

    <div class="pure-g">
      <div class="pure-u-1-2">
        <p>Einträge: #{cc.attrs.controller.getItemSize()}</p>
      </div>
      <div class="pure-u-1-2" style="text-align: right;">
        <p>Einträge pro Seite: #{cc.attrs.controller.amount}</p>
      </div>
    </div>
    <ul id="pagination" class="sync-pagination pagination-sm"></ul>
    <!-- List -->
    <table class="pure-table pure-table-horizontal" style="width: 100%;">
      <thead>
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Editieren</th>
          <th>Löschen</th>
        </tr>
      </thead>
      <tbody>
        <ui:repeat value="#{cc.attrs.controller.items}" var="item">
          <tr>
            <td>#{item.id}</td>
            <td>#{item.name}</td>
            <td>
              <h:form>
                <h:commandLink value="bearbeiten">
                  <f:setPropertyActionListener value="#{item}"
                                               target="#{cc.attrs.controller.item}" />
                </h:commandLink>
              </h:form>
            </td>
            <td>
              <h:form>
                <h:commandLink value="löschen" action="#{cc.attrs.controller.remove}">
                  <f:setPropertyActionListener value="#{item}"
                                               target="#{cc.attrs.controller.item}" />
                </h:commandLink>
              </h:form>
            </td>
          </tr>
        </ui:repeat>
      </tbody>
    </table>
    <ul class="sync-pagination pagination-sm"></ul>
    <script>
      //<![CDATA[ 
      $(document).ready(function() {
        $('.sync-pagination').twbsPagination({
          href: '?page={{number}}#pagination',
          startPage: #{cc.attrs.controller.currentPage},
          totalPages: #{cc.attrs.controller.totalPages}
        });
      });
      //]]>
    </script>
  </composite:implementation>
</html>