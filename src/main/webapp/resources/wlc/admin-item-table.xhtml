<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:composite="http://xmlns.jcp.org/jsf/composite"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

  <composite:interface>
    <composite:attribute name="controller" required="true" type="de.fhb.controller.BaseController" />
  </composite:interface>

  <composite:implementation>
    <!-- List -->
    <table class="pure-table pure-table-horizontal">
      <thead>
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Editieren</th>
          <th>Löschen</th>
        </tr>
      </thead>
      <tbody>
        <ui:repeat value="#{cc.attrs.controller.items}" var="item">
          <tr>
            <td>#{item.id}</td>
            <td>#{item.name}</td>
            <td>
              <h:form>
                <h:commandLink value="bearbeiten">
                  <f:setPropertyActionListener value="#{item}"
                                               target="#{cc.attrs.controller.item}" />
                </h:commandLink>
              </h:form>
            </td>
            <td>
              <h:form>
                <h:commandLink value="löschen" action="#{cc.attrs.controller.remove}">
                  <f:setPropertyActionListener value="#{item}"
                                               target="#{cc.attrs.controller.item}" />
                </h:commandLink>
              </h:form>
            </td>
          </tr>
        </ui:repeat>
      </tbody>
    </table>

    <div id="pagination-holder"></div>

    <!-- http://flaviusmatis.github.io/simplePagination.js/ -->
    <script>
      //<![CDATA[ 
      $(function() {
        $('#pagination-holder').pagination({
          currentPage: #{cc.attrs.controller.currentPage},
          items: 200,
          itemsOnPage: 20,
          cssStyle: 'light-theme',
          onPageClick: function(pageNumber, event) {
            var offset = (pageNumber - 1) * #{cc.attrs.controller.amount};
            window.location.href = window.location.pathname += '?offset=' + offset;
          }
        });
      });
      //]]>
    </script>

  </composite:implementation>
</html>